<!-- Catalog page - cards -->
<template name="catalog">
    <article id="catalog-article">
        <div class="container-fluid my-4 js-container">

            {{#if isAgent}}
                <div class="row" style="padding-top: 6vh;">
                    {{#if isAdmin}}
                        {{> add_item_form}}
                    {{/if}}
                    {{#if isThereAnOrderInPlace}}
                        {{> close_order}}
                    {{else}}
                        {{> new_order_form}}
                    {{/if}}
                </div>
            {{/if}}

            <div class="row"> <!-- row -->
                <div class="col-8 col-lg-10 catalog-padding"> <!-- catalog -->
                    <div class="row"> <!-- nested row -->
                        {{#each images}}
                            <div class="col-md-12 col-lg-6 col-xl-3 py-1 d-flex px-1">
                                <div class="card mx-auto text-center thumbnail h-100 w-100">
                                    <div id="catalog-card" class="card-header text-white font-weight-bold">{{watch_code}}</div>

                                    <div class="card-body py-0"></div>
                                    <a href="/catalog_item/{{_id}}">
                                        <img class="card-img-center my-1 thumbnail-img" src="{{img_src}}" alt="" style="object-fit: scale-down;"/>
                                    </a>
                                    <div class="card-body py-0"></div>

                                    <!-- card footer -->
                                    <div class="card-footer">
                                        {{#if isAdmin}}
                                            <p align="center">{{>starsRating mutable=true class="js-rate-image" data_id=_id rating=rating}}</p>
                                        {{/if}}
                                        <p class="card-text">מחיר מומלץ: ₪{{watch_price}}.00</p>
                                        <div class="btn-group">
                                            {{#if isAdmin}}
                                                <button type="button" class="js-del-image btn btn-responsive-font btn-danger"
                                                        data-toggle="modal" data-target="#delete_item_modal">מחיקה
                                                </button>
                                                <button type="button" class="js-edit_item_button btn btn-responsive-font btn-outline-warning"
                                                        data-toggle="modal" data-target="#edit_item_modal">עריכה
                                                </button>
                                            {{/if}}
                                            <a href="/catalog_item/{{_id}}" type="button" class="btn btn-responsive-font btn-outline-secondary">לפרטים
                                                נוספים</a>
                                        </div> <!-- / btn-group -->
                                    </div> <!-- / card-footer -->
                                </div>  <!-- / card -->
                            </div> <!-- / nested column - for each image -->
                        {{/each}}
                    </div> <!-- / nested row -->
                    <button type="button" class="js-load-more btn btn-outline-secondary btn-responsive-font btn-block" dir="rtl" style="margin-top: 20px;">
                        טעינת פריטים נוספים
                    </button>
                </div> <!-- / catalog -->

                {{> sidebar}}

            </div> <!-- / row -->
        </div><!-- / container -->
    </article>

    <!-- delete Modal -->
    <div id="delete_item_modal" class="modal fade">
        <div class="modal-dialog modal-confirm">
            <div class="modal-content">

                <div class="modal-header text-center"> <!-- modal-header -->
                    <h4 class="modal-title w-100 font-weight-bold"><i class="fa fa-trash fa-4x"></i><br/>מחיקה</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div> <!-- / modal-header -->

                <div class="modal-body text-right"> <!-- modal-body -->
                    <p dir="rtl">האם הנך בטוח שברצונך למחוק פריט זה? תהליך זה לא לא ניתן לשיחזור</p>
                </div> <!-- modal-body -->

                <div class="modal-footer d-flex justify-content-center"> <!-- modal-footer -->
                    <button type="button" class="btn btn-responsive-font btn-info" data-dismiss="modal">ביטול</button>
                    <button type="button" class="btn btn-responsive-font btn-danger confirm-delete" data-toggle="modal">מחיקה</button>
                </div> <!-- / modal-footer -->

            </div> <!-- / modal-content -->
        </div> <!-- / modal-dialog-->
    </div> <!-- / delete Modal -->

    <!-- Edit modal -->
    <div id="edit_item_modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="editModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <div class="modal-header text-center"> <!-- modal-header -->
                    <h4 class="modal-title w-100 font-weight-bold"><i class="fa fa-edit fa-4x"></i><br/>עריכה</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div> <!-- / modal-header -->

                <div class="modal-body mx-3"> <!-- modal-body -->
                    <form class="js-edit-item" style="direction: rtl; text-align: right;">

                        <div class="form-group">
                            <label for="img_src">לינק לתמונה:</label>
                            <input type="text" class="form-control" value={{getImgSrc}} name="img_src"
                                   required/>
                            <input type="text" class="form-control" id="first_img_description" name="first_img_description"
                                   placeholder="תיאור התמונה הראשונה(צבע, לוח וכו')" value="{{getFirstImgDesc}}"/>
                        </div>

                        <div class="form-group">
                            <label for="second_img_src">לינק לתמונה משנית 2 (URL):</label>
                            <input type="text" class="form-control" value={{getSecondImgSrc}} name="second_img_src"/>
                            <input type="text" class="form-control" id="second_img_description" name="second_img_description"
                                   placeholder="תיאור התמונה השנייה(צבע, לוח וכו')" value="{{getSecondImgDesc}}"/>
                        </div>

                        <div class="form-group">
                            <label for="third_img_src">לינק לתמונה משנית 3 (URL):</label>
                            <input type="text" class="form-control" value="{{getThirdImgSrc}}" name="third_img_src"/>
                            <input type="text" class="form-control" id="third_img_description" name="third_img_description"
                                   placeholder="תיאור התמונה שלישית(צבע, לוח וכו')" value="{{getThirdImgDesc}}"/>
                        </div>

                        <div class="form-group">
                            <label for="forth_img_src">לינק לתמונה משנית 4 (URL):</label>
                            <input type="text" class="form-control" value="{{getForthImgSrc}}" name="forth_img_src"/>
                            <input type="text" class="form-control" id="forth_img_description" name="forth_img_description"
                                   placeholder="תיאור התמונה הרביעית(צבע, לוח וכו')" value="{{getForthImgDesc}}"/>
                        </div>

                        <div class="form-group">
                            <label for="fifth_img_src">לינק לתמונה משנית 5 (URL):</label>
                            <input type="text" class="form-control" value="{{getFifthImgSrc}}" name="fifth_img_src"/>
                            <input type="text" class="form-control" id="fifth_img_description" name="fifth_img_description"
                                   placeholder="תיאור התמונה החמישית(צבע, לוח וכו')" value="{{getFifthImgDesc}}"/>
                        </div>

                        <div class="form-group">
                            <i class="fa fa-tag prefix grey-text"></i>
                            <label data-error="wrong" data-success="right" for="watch_code">מספר קטלוגי:</label>
                            <input type="number" class="form-control validate" value={{getWatchCode}}
                                   name="watch_code" required/>
                        </div>

                        <div class="form-group">
                            <i class="fa fa-dollar-sign prefix grey-text"></i>
                            <label data-error="wrong" data-success="right" for="watch_price">מחיר מומלץ:</label>
                            <input type="number" class="form-control validate" value={{getWatchPrice}}
                                   name="watch_price" required/>
                        </div>

                        <div class="form-group">
                            <select class="browser-default custom-select form-control validate"
                                    name="watch_category" required>
                                <option value="">בחר קטגוריה</option>
                                <option value="1">נשים ורסאי</option>
                                <option value="2">גברים ורסאי</option>
                                <option value="3">נשים וגאס</option>
                                <option value="4">גברים וגאס</option>
                                <option value="5">ילדים ודיגטליים</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <i class="fa fa-pencil prefix grey-text"></i>
                            <label data-error="wrong" data-success="right" for="watch_description">תיאור:</label>
                            <textarea type="text" class="md-textarea form-control" name="watch_description" rows="4">{{getWatchDescription}}</textarea>
                        </div>

                        <button class="btn btn-responsive-font btn-success confirm-edit">ערוך</button>
                        <button class="btn btn-responsive-font btn-info" data-dismiss="modal">ביטול</button>

                    </form>
                </div> <!-- modal-body -->

                <div class="modal-footer"> <!-- modal-footer --></div><!-- / modal-footer -->

            </div> <!-- / modal-content -->
        </div> <!-- / modal-dialog-->
    </div> <!-- / Edit image Modal -->

</template>

<!-- Catalog page - add item button -->
<template name="add_item_form">
    <button type="button" class="btn btn-responsive-font btn-success btn-block" data-toggle="modal"
            data-target="#add_item_form">הוספת פריטים לקטלוג
    </button>


    <!-- Add image Modal -->
    <div id="add_item_form" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="addModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <div class="modal-header text-center"> <!-- modal-header -->
                    <h4 class="modal-title w-100 font-weight-bold"><i class="fa fa-plus-square fa-4x"></i><br/>הוספה
                    </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div> <!-- / modal-header -->

                <div class="modal-body mx-3"> <!-- modal-body -->
                    <form class="js-add-item" style="direction: rtl; text-align: right;">

                        <div class="form-group">
                            <label for="img_src">לינק לתמונה ראשית (URL):</label>
                            <input type="text" class="form-control" id="img_src" placeholder="url" name="img_src"
                                   required/>
                            <input type="text" class="form-control" name="first_img_description"
                                   placeholder="תיאור התמונה הראשונה(צבע, לוח וכו')"/>
                        </div>

                        <div class="form-group">
                            <label for="second_img_src">לינק לתמונה משנית 2 (URL):</label>
                            <input type="text" class="form-control" id="second_img_src" placeholder="url" name="second_img_src"/>
                            <input type="text" class="form-control" name="second_img_description"
                                   placeholder="תיאור התמונה השנייה(צבע, לוח וכו')"/>
                        </div>

                        <div class="form-group">
                            <label for="third_img_src">לינק לתמונה משנית 3 (URL):</label>
                            <input type="text" class="form-control" id="third_img_src" placeholder="url" name="third_img_src"/>
                            <input type="text" class="form-control" name="third_img_description"
                                   placeholder="תיאור התמונה שלישית(צבע, לוח וכו')"/>
                        </div>

                        <div class="form-group">
                            <label for="forth_img_src">לינק לתמונה משנית 4 (URL):</label>
                            <input type="text" class="form-control" id="forth_img_src" placeholder="url" name="forth_img_src"/>
                            <input type="text" class="form-control" name="forth_img_description"
                                   placeholder="תיאור התמונה הרביעית(צבע, לוח וכו')"/>
                        </div>

                        <div class="form-group">
                            <label for="fifth_img_src">לינק לתמונה משנית 5 (URL):</label>
                            <input type="text" class="form-control" id="fifth_img_src" placeholder="url" name="fifth_img_src"/>
                            <input type="text" class="form-control" name="fifth_img_description"
                                   placeholder="תיאור התמונה החמישית(צבע, לוח וכו')"/>
                        </div>

                        <div class="form-group">
                            <i class="fa fa-tag prefix grey-text"></i>
                            <label data-error="wrong" data-success="right" for="watch_code">מספר קטלוגי:</label>
                            <input type="number" class="form-control validate" id="watch_code" name="watch_code"
                                   placeholder="991100" required/>
                        </div>

                        <div class="form-group">
                            <i class="fa fa-dollar-sign prefix grey-text"></i>
                            <label data-error="wrong" data-success="right" for="watch_price">מחיר מומלץ:</label>
                            <input type="number" class="form-control validate" id="watch_price" name="watch_price"
                                   placeholder="מחיר מומלץ" required/>
                        </div>

                        <div class="form-group">
                            <select class="browser-default custom-select form-control validate" id="watch_category"
                                    name="watch_category" required>
                                <option value="">בחר קטגוריה</option>
                                <option value="1">נשים ורסאי</option>
                                <option value="2">גברים ורסאי</option>
                                <option value="3">נשים וגאס</option>
                                <option value="4">גברים וגאס</option>
                                <option value="5">ילדים ודיגטליים</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <i class="fa fa-pencil prefix grey-text"></i>
                            <label data-error="wrong" data-success="right" for="watch_description">תיאור:</label>
                            <textarea type="text" maxlength="500" class="form-control" id="watch_description"
                                      name="watch_description" rows="4" placeholder="תיאור כללי של השעון"></textarea>
                        </div>
                        <button class="btn btn-responsive-font btn-success confirm-add">הוסף</button>
                        <button class="btn btn-responsive-font btn-info" data-dismiss="modal">ביטול</button>

                    </form>
                </div> <!-- modal-body -->
            </div> <!-- / modal-content -->
        </div> <!-- / modal-dialog-->
    </div> <!-- / Add image Modal -->

</template>

<!-- Single catalog item page -->
<template name="single_item">
    <article id="single-item-article">
        <div class="container-fluid">
            <div class="row">

                <div class="col-0 col-xl-1 col-lg-0 mb-3"></div>

                <div class="col-12 col-xl-5 col-lg-6 mb-3">
                    <div class="card border text-right thumbnail pt-5">
                        <h4 align="center" class="text-responsive-font-size">דגם מספר: {{getWatchCode}}</h4>
                        <hr class="my-2"/>
                        <div class="card-body">
                            <h5 class="text-responsive-font-size">מחיר מומלץ: ₪{{getWatchPrice}}.00</h5>

                            <p dir="rtl">
                                <br/>
                                {{getWatchDescription}}
                                <br/>
                                <br/>
                                {{getCurrentImgDesc}}
                                <br/>
                                <br/>
                                12 חודשי אחריות
                            </p>

                            {{#if and isThereAnOrderInPlace isAgent}}
                                <div class="col text-center">
                                    <button class="btn btn-light fa fa-minus-circle fa-4x js-decrement-cart"></button>
                                    <button class="btn btn-light fa-3x font-weight-bold">{{ orderAmount }}</button>
                                    <button class="btn btn-light fa fa-plus-circle fa-4x js-increment-cart"></button>
                                </div>
                            {{/if}}

                        </div>
                    </div> <!-- / description card -->
                </div>

                <div class="col-12 col-xl-5 col-lg-6 mb-3">
                    <div class="card pb-1 pt-5 text-center thumbnail">
                        <a href="#" data-target="#zoomModal" data-toggle="modal">
                            <img class="single-img" src="{{getMainImgSrc}}" alt="" />
                        </a>
                    </div>

                    <!-- START - card deck -->
                    <div class="row">
                        <div class="card-deck-wrapper mx-auto" style="margin-top: 10px;">
                            <div class="card-deck">

                                {{#if getFirstImgSrc}}
                                <a class="js-first-img" href="#">
                                    <div class="card">
                                        <div class="card-block">
                                            <img src="{{getFirstImgThumbnail}}" class="single-item-thumbnail" alt="">
                                        </div>
                                    </div>
                                </a>
                                {{/if}}
                                {{#if getSecondImgSrc}}
                                <a class="js-second-img" href="#">
                                    <div class="card">
                                        <div class="card-block">
                                            <img src="{{getSecondImgThumbnail}}" class="single-item-thumbnail" alt="">
                                        </div>
                                    </div>
                                </a>
                                {{/if}}
                                {{#if getThirdImgSrc}}
                                <a class="js-third-img" href="#">
                                    <div class="card">
                                        <div class="card-block">
                                            <img src="{{getThirdImgThumbnail}}" class="single-item-thumbnail" alt="">
                                        </div>
                                    </div>
                                </a>
                                {{/if}}
                                {{#if getForthImgSrc}}
                                <a class="js-forth-img" href="#">
                                    <div class="card">
                                        <div class="card-block">
                                            <img src="{{getForthImgThumbnail}}" class="single-item-thumbnail" alt="">
                                        </div>
                                    </div>
                                </a>
                                {{/if}}
                                {{#if getFifthImgSrc}}
                                <a class="js-fifth-img" href="#">
                                    <div class="card">
                                        <div class="card-block">
                                            <img src="{{getFifthImgThumbnail}}" class="single-item-thumbnail" alt="">
                                        </div>
                                    </div>
                                </a>
                                {{/if}}
                            </div>
                        </div>
                    </div><!-- END - card deck -->

                </div>
                <div class="col-0 col-xl-1 col-lg-0 mb-3"></div>

            </div> <!-- / row -->
        </div> <!-- / container -->

        <!-- zoom modal-->
        <div class="modal fade" id="zoomModal" role="dialog" tabindex="-1" aria-hidden="true"
             aria-labelledby="zoomModalLabel">
            <div class="modal-dialog modal-md" role="document">
                <div class="modal-content">
                    <div class="modal-header" style="direction: rtl; text-align: right;">
                        <button class="btn btn-responsive-font btn-outline-dark btn-sm" data-dismiss="modal" type="button">X</button>
                    </div>
                    <div class="modal-body mb-0 p-0">
                        <img class="single-img-modal" src="{{getMainImgSrc}}" alt="">
                    </div>
                </div> <!-- / modal-content -->
            </div>
        </div> <!-- / zoom modal-->

    </article>
</template>

<!-- Catalog page sidebar -->
<template name='sidebar'>
    <div class="col-4 col-lg-2"> <!-- sidebar -->
        <div class="sidebar-item bg-light border-left" id="sidebar-wrapper">
            <div class="make-me-sticky">

                <div class="sidebar-heading">
                    <h2>סינון</h2>
                </div>

                <ul class="list-group list-group-flush">
                    <a href="catalog">
                        <div class="card border-info">
                            <li class="list-group-item">
                                ביטול סינון
                            </li>
                        </div>
                    </a>
                    <a href="catalog?q=women-versaille">
                        <div class="card">
                            <li class="list-group-item">
                                שעוני נשים - ורסאי
                            </li>
                        </div>
                    </a>
                    <a href="catalog?q=men-versaille">
                        <div class="card">
                            <li class="list-group-item">
                                שעוני גברים - ורסאי
                            </li>
                        </div>
                    </a>
                    <a href="catalog?q=women-vegas">
                        <div class="card">
                            <li class="list-group-item">
                                שעוני נשים - וגאס
                            </li>
                        </div>
                    </a>
                    <a href="catalog?q=men-vegas">
                        <div class="card">
                            <li class="list-group-item">
                                שעוני גברים - וגאס
                            </li>
                        </div>
                    </a>
                    <a href="catalog?q=digital-children">
                        <div class="card">
                            <li class="list-group-item">
                                ילדים ודיגטליים
                            </li>
                        </div>
                    </a>

                    <div class="list-group list-group-flush">
                        <div class="card">
                            <a class="card-link" data-target="#catalog-order-modal" data-toggle="modal" href="#">
                                <div class="card-header">
                                    לפי מספור קטלוגי
                                </div>
                            </a>
                        </div>
                    </div>
                </ul>

                <div class="container card-footer text-muted">
                    <b>טווח מחירים</b>
                    <div class="col">
                        <div id="price-slider"></div>
                        <p>{{slider.[0]}}₪ - {{slider.[1]}}₪</p>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- / sidebar -->


    <!-- zoom modal-->
    <div class="modal fade" id="catalog-order-modal" role="dialog" tabindex="-1" aria-hidden="true"
         aria-labelledby="catalog-order-modal-label">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content">
                <div class="modal-header" style="direction: rtl; text-align: right;">
                    <button class="btn btn-responsive-font btn-outline-dark btn-sm" data-dismiss="modal" type="button">X</button>
                </div>
                <div class="modal-body mb-0 p-0">
                    <div id="#sidebar-number-link">
                        <a href="" class="sidebar-number-link4300 list-group-item list-group-item-action"><b>4300</b></a>
                        <a href="" class="sidebar-number-link4200 list-group-item list-group-item-action"><b>4200</b></a>
                        <a href="" class="sidebar-number-link4100 list-group-item list-group-item-action"><b>4100</b></a>
                        <a href="" class="sidebar-number-link3900 list-group-item list-group-item-action"><b>3900</b></a>
                        <a href="" class="sidebar-number-link4000 list-group-item list-group-item-action"><b>4000</b></a>
                        <a href="" class="sidebar-number-link3800 list-group-item list-group-item-action"><b>3800</b></a>
                        <a href="" class="sidebar-number-link2800 list-group-item list-group-item-action"><b>2800</b></a>
                        <a href="" class="sidebar-number-link2700 list-group-item list-group-item-action"><b>2700</b></a>
                        <a href="" class="sidebar-number-link2600 list-group-item list-group-item-action"><b>2600</b></a>
                        <a href="" class="sidebar-number-link1900 list-group-item list-group-item-action"><b>1900</b></a>
                        <a href="" class="sidebar-number-link1800 list-group-item list-group-item-action"><b>1800</b></a>
                        <a href="" class="sidebar-number-link1700 list-group-item list-group-item-action"><b>1700</b></a>
                        <a href="" class="sidebar-number-link1600 list-group-item list-group-item-action"><b>1600</b></a>
                        <a href="" class="sidebar-number-link1500 list-group-item list-group-item-action"><b>1500</b></a>
                        <a href="" class="sidebar-number-link1300 list-group-item list-group-item-action"><b>1300</b></a>
                        <a href="" class="sidebar-number-link1100 list-group-item list-group-item-action"><b>1100</b></a>
                    </div>
                </div>
            </div> <!-- / modal-content -->
        </div>
    </div> <!-- / zoom modal-->

</template>
<!-- / Catalog page sidebar -->
